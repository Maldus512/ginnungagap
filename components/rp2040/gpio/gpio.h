#ifndef RP2040_GPIO_H_INCLUDED
#define RP2040_GPIO_H_INCLUDED


#include "../_common.h"


#define RP2040_GPIO_BANK0_BASE     0x40014000
#define RP2040_GPIO_STATUS(Gpio)   MMIO32(RP2040_GPIO_BANK0_BASE + (Gpio)*0x8UL)
#define RP2040_GPIO_CTRL(Gpio)     MMIO32(RP2040_GPIO_BANK0_BASE + (Gpio)*0x8UL + 0x4UL)
#define RP2040_GPIO_PADS_QSPI_BASE 0x40020000
#define RP2040_GPIO_PADS_QSPI_SCLK MMIO32(RP2040_GPIO_PADS_QSPI_BASE + 0x04UL)
#define RP2040_GPIO_PADS_QSPI_SD0  MMIO32(RP2040_GPIO_PADS_QSPI_BASE + 0x04UL)
#define RP2040_GPIO_PADS_QSPI_SD1  MMIO32(RP2040_GPIO_PADS_QSPI_BASE + 0x08UL)
#define RP2040_GPIO_PADS_QSPI_SD2  MMIO32(RP2040_GPIO_PADS_QSPI_BASE + 0x0CUL)
#define RP2040_GPIO_PADS_QSPI_SD3  MMIO32(RP2040_GPIO_PADS_QSPI_BASE + 0x10UL)


#define RP2040_GPIO_FUNC_UART 2
#define RP2040_GPIO_FUNC_SIO  5

#define RP2040_GPIO_PADS_QSPI_DRIVE_BITS(Value)    (((Value)&0x3) << 4)
#define RP2040_GPIO_PADS_QSPI_SLEWFAST_BITS(Value) ((Value)&0x1)
#define RP2040_GPIO_PADS_QSPI_SCHMITT_BITS(Value)  (((Value)&0x1) << 1)


typedef enum {
    RP2040_GPIO_0 = 0,
    RP2040_GPIO_1,
    RP2040_GPIO_2,
    RP2040_GPIO_3,
    RP2040_GPIO_4,
    RP2040_GPIO_5,
    RP2040_GPIO_6,
    RP2040_GPIO_7,
    RP2040_GPIO_8,
    RP2040_GPIO_9,
    RP2040_GPIO_10,
    RP2040_GPIO_11,
    RP2040_GPIO_12,
    RP2040_GPIO_13,
    RP2040_GPIO_14,
    RP2040_GPIO_15,
    RP2040_GPIO_16,
    RP2040_GPIO_17,
    RP2040_GPIO_18,
    RP2040_GPIO_19,
    RP2040_GPIO_20,
    RP2040_GPIO_21,
    RP2040_GPIO_22,
    RP2040_GPIO_23,
    RP2040_GPIO_24,
    RP2040_GPIO_25,
    RP2040_GPIO_26,
    RP2040_GPIO_27,
    RP2040_GPIO_28,
    RP2040_GPIO_29,
} rp2040_gpio_t;


typedef enum {
    RP2040_GPIO_PADS_QSPI_DRIVE_2MA  = 0x0,
    RP2040_GPIO_PADS_QSPI_DRIVE_4MA  = 0x1,
    RP2040_GPIO_PADS_QSPI_DRIVE_8MA  = 0x2,
    RP2040_GPIO_PADS_QSPI_DRIVE_12MA = 0x3,
} rp2040_gpio_pads_qspi_drive_t;


typedef enum {
    RP2040_GPIO_PADS_QSPI_SLEWFAST_SLOW = 0x0,
    RP2040_GPIO_PADS_QSPI_SLEWFAST_FAST = 0x1,
} rp2040_gpio_pads_qspi_slewfast_t;


typedef enum {
    RP2040_GPIO_MODE_INPUT = 0,
    RP2040_GPIO_MODE_OUTPUT,
} rp2040_gpio_mode_t;


void gpio_set_sio(rp2040_gpio_t gpio);


#endif
